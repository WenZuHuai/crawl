## 配置文件功能描述

用 JSON 定义目标数据库及其表信息, 程序根据配置文件, 读取 JSON 格式的源数据, 导出结构化数据到目标数据库

## 如何使用

- 每个网站使用1个配置文件. 
- 每个配置文件, 根据源数据的结构, 按模板格式修改需自定义的部分, 包括"数据库设置", "映射设置", "数据表设置"三个部分

## 配置文件格式

```
{
    "database": {
        "source_file": ["自定义_源数据文件1", "自定义_源数据文件2", "自定义_源数据文件3"], 
        "source_db": {
            "dbtype": "自定义_原始数据库类型",
            "host": "自定义_源数据库地址",
            "port": "自定义_源数据库端口",
            "username": "自定义_源数据库用户名",
            "password":, "自定义_源数据库秘密",
            "dbname": "自定义_源数据库名"
        },
        "destination_db": {
            "dbtype": "自定义_目标数据库类型",
            "host": "自定义_目标数据库地址",
            "port": "自定义_目标数据库端口",
            "username": "自定义_目标数据库用户",
            "password": "自定义_目标数据库秘密",
            "dbname": "自定义_目标数据库库名"
        }
    },

    "mapping": {
        "自定义_表1": "自定义_JSON源数据中的key1",
        "自定义_表2": "自定义_JSON源数据中的key2",
        "自定义_表3": ["自定义_JSON源数据中的一级key", "自定义_JSON源数据中的二级key"],
        "自定义_表4": ["自定义_JSON源数据中的一级key", "自定义_二级key", "自定义_三级key"]
    },

    "table": {
        "自定义_表1": [
			{
				"field": "自定义_字段1",
				"datatype": "自定义_数据类型",
				"option": "自定义_字段选项"
			},
			{
				"field": "自定义_字段2",
				"datatype": "自定义_数据类型",
				"option": "自定义_字段选项"
			},
			{
				"field": "自定义_字段n",
				"datatype": "自定义_数据类型",
				"option": "自定义_字段选项"
			}
		],
		"自定义_表2": [
			{
				"field": "自定义_字段1",
				"datatype": "自定义_数据类型",
				"option": "自定义_字段选项"
			},
			{
				"field": "自定义_字段2",
				"datatype": "自定义_数据类型",
				"option": "自定义_字段选项"
			}
		],
		"自定义_表n": [
			{
				"field": "自定义_字段1",
				"datatype": "自定义_数据类型",
				"option": "自定义_字段选项"
			},
			{
				"field": "自定义_字段2",
				"datatype": "自定义_数据类型",
				"option": "自定义_字段选项"
			}
		]
	}
}
```
关于 mapping 部分: 
指定 key-value 形式的映射关系, key 为关系数据库的表名, 要在原始JSON格式数据中找到 key, 需指定其所在位置 value.
单层的对应关系直接指定即可, 嵌套的关系, 根据嵌套层级以列表给出 

以工商为例, 某家企业信息的源始数据是这样的:
```
{
    "450100400000389": {
        "ind_comm_pub_reg_basic": {}, 
        "ent_pub_ent_annual_report": [
            {
                "序号": "1", 
                "报送年度": "2014年度报告", 
                "发布日期": "2015年6月19日", 
                "详情": {
                    "股权变更信息": [ ], 
                    "网站或网店信息": [ ], 
                    "股东及出资信息": [
                        {
                            "认缴出资方式": "货币", 
                            "认缴出资额（万元）": "18,552.59", 
                            "出资时间": "1994年3月18日", 
                            "认缴出资时间": "1994年3月18日", 
                            "实缴出资额（万元）": "18,552.59", 
                            "股东": "SUNMODE LIMITED", 
                            "出资方式": "货币"
                        }, 
                        {
                            "认缴出资方式": "货币", 
                            "认缴出资额（万元）": "700", 
                            "出资时间": "1994年3月18日", 
                            "认缴出资时间": "1994年3月18日", 
                            "实缴出资额（万元）": "700", 
                            "股东": "阳光壹佰置业集团有限公司", 
                            "出资方式": "货币"
                        } 
                    ], 
                    "对外提供保证担保信息": [ ], 
                    "企业基本信息": {}
                }
            }, 
            {}
        ] 
    }
}
```
现需获取"企业年报基本信息", 年报中的"股东及出资信息", mapping 中应这样写: 
```
    "mapping": {
        "企业年报基本信息": "ent_pub_ent_annual_report",
        "股东及出资信息": ["ent_pub_ent_annual_report", "详情"]
    },

```
## 注意事项

- 用户仅可以更改模板中"自定义_"开头的数据
- 可以添加任意张表, 保持模板中的格式, 并且和mapping中项目一致即可(列表最后一项后不要加逗号)
- 每张表可以添加任意个字段(列表最后一项后不要加逗号) 
- 目标数据库现只支持 MySQL

